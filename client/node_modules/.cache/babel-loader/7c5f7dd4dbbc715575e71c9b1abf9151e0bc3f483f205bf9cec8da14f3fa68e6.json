{"ast":null,"code":"import React,{useEffect}from\"react\";import{Accordion,Badge,Button,Card}from\"react-bootstrap\";import Layout from\"../../components/Layout\";import{Link}from\"react-router-dom\";import ReactMarkdown from\"react-markdown\";import{useDispatch,useSelector}from\"react-redux\";import{deleteNoteAction,listNotes}from\"../../actions/notesActions\";import Loader from\"../../components/Loader\";import ErrorMessage from\"../../components/ErrorMessage\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MyNotes(_ref){var search=_ref.search;var dispatch=useDispatch();var navigate=useNavigate();var noteList=useSelector(function(state){return state.noteList;});var loading=noteList.loading,error=noteList.error,notes=noteList.notes;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var noteDelete=useSelector(function(state){return state.noteDelete;});var loadingDelete=noteDelete.loading,errorDelete=noteDelete.error,successDelete=noteDelete.success;var noteCreate=useSelector(function(state){return state.noteCreate;});var successCreate=noteCreate.success;var noteUpdate=useSelector(function(state){return state.noteUpdate;});var successUpdate=noteUpdate.success;useEffect(function(){dispatch(listNotes());if(!userInfo){navigate(\"/\");}},[dispatch,navigate,userInfo,successDelete,successCreate,successUpdate]);var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure?\")){dispatch(deleteNoteAction(id));}};return/*#__PURE__*/_jsxs(Layout,{title:\"Elevate Your Productivity \".concat(userInfo&&userInfo.name),children:[console.log(notes),/*#__PURE__*/_jsx(Link,{to:\"/createnote\",children:/*#__PURE__*/_jsx(Button,{style:{marginLeft:10,marginBottom:6},size:\"lg\",children:\"Create new Note\"})}),error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),errorDelete&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:errorDelete}),loading&&/*#__PURE__*/_jsx(Loader,{}),loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),notes&&notes.filter(function(filteredNote){return filteredNote.title.toLowerCase().includes(search.toLowerCase());}).reverse().map(function(note){return/*#__PURE__*/_jsx(Accordion,{children:/*#__PURE__*/_jsxs(Card,{style:{margin:10},children:[/*#__PURE__*/_jsxs(Card.Header,{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\",textDecoration:\"none\",flex:1,cursor:\"pointer\",alignSelf:\"center\",fontSize:18},children:/*#__PURE__*/_jsx(Accordion.Toggle,{as:Card.Text,variant:\"link\",eventKey:\"0\",children:note.title})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{href:\"/note/\".concat(note._id),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"mx-2\",onClick:function onClick(){return deleteHandler(note._id);},children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(Accordion.Collapse,{eventKey:\"0\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(Badge,{variant:\"success\",children:[\"Category - \",note.category]})}),/*#__PURE__*/_jsxs(\"blockquote\",{className:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(ReactMarkdown,{children:note.content}),/*#__PURE__*/_jsxs(\"footer\",{className:\"blockquote-footer\",children:[\"Created on\",\" \",/*#__PURE__*/_jsx(\"cite\",{title:\"Source Title\",children:note.createdAt.substring(0,10)})]})]})]})})]},note._id)});})]});}export default MyNotes;","map":{"version":3,"names":["React","useEffect","Accordion","Badge","Button","Card","Layout","Link","ReactMarkdown","useDispatch","useSelector","deleteNoteAction","listNotes","Loader","ErrorMessage","useNavigate","jsx","_jsx","jsxs","_jsxs","MyNotes","_ref","search","dispatch","navigate","noteList","state","loading","error","notes","userLogin","userInfo","noteDelete","loadingDelete","errorDelete","successDelete","success","noteCreate","successCreate","noteUpdate","successUpdate","deleteHandler","id","window","confirm","title","concat","name","children","console","log","to","style","marginLeft","marginBottom","size","variant","filter","filteredNote","toLowerCase","includes","reverse","map","note","margin","Header","display","color","textDecoration","flex","cursor","alignSelf","fontSize","Toggle","as","Text","eventKey","href","_id","className","onClick","Collapse","Body","category","content","createdAt","substring"],"sources":["/Users/hrushi/Desktop/notenexus/client/src/pages/MyNotes/MyNotes.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Accordion, Badge, Button, Card } from \"react-bootstrap\";\nimport Layout from \"../../components/Layout\";\nimport { Link } from \"react-router-dom\";\nimport ReactMarkdown from \"react-markdown\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteNoteAction, listNotes } from \"../../actions/notesActions\";\nimport Loader from \"../../components/Loader\";\nimport ErrorMessage from \"../../components/ErrorMessage\";\nimport { useNavigate } from \"react-router-dom\";\nfunction MyNotes({ search }) {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const noteList = useSelector((state) => state.noteList);\n  const { loading, error, notes } = noteList;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const noteDelete = useSelector((state) => state.noteDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = noteDelete;\n\n  const noteCreate = useSelector((state) => state.noteCreate);\n  const { success: successCreate } = noteCreate;\n\n  const noteUpdate = useSelector((state) => state.noteUpdate);\n  const { success: successUpdate } = noteUpdate;\n\n  useEffect(() => {\n    dispatch(listNotes());\n    if (!userInfo) {\n      navigate(\"/\");\n    }\n  }, [\n    dispatch,\n    navigate,\n    userInfo,\n    successDelete,\n    successCreate,\n    successUpdate,\n  ]);\n\n  const deleteHandler = (id) => {\n    if (window.confirm(\"Are you sure?\")) {\n      dispatch(deleteNoteAction(id));\n    }\n  };\n\n  return (\n    <Layout title={`Elevate Your Productivity ${userInfo && userInfo.name}`}>\n      {console.log(notes)}\n      <Link to=\"/createnote\">\n        <Button style={{ marginLeft: 10, marginBottom: 6 }} size=\"lg\">\n          Create new Note\n        </Button>\n      </Link>\n      {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\n      {errorDelete && (\n        <ErrorMessage variant=\"danger\">{errorDelete}</ErrorMessage>\n      )}\n      {loading && <Loader />}\n      {loadingDelete && <Loader />}\n      {notes &&\n        notes\n          .filter((filteredNote) =>\n            filteredNote.title.toLowerCase().includes(search.toLowerCase())\n          )\n          .reverse()\n          .map((note) => (\n            <Accordion>\n              <Card style={{ margin: 10 }} key={note._id}>\n                <Card.Header style={{ display: \"flex\" }}>\n                  <span\n                    style={{\n                      color: \"black\",\n                      textDecoration: \"none\",\n                      flex: 1,\n                      cursor: \"pointer\",\n                      alignSelf: \"center\",\n                      fontSize: 18,\n                    }}\n                  >\n                    <Accordion.Toggle\n                      as={Card.Text}\n                      variant=\"link\"\n                      eventKey=\"0\"\n                    >\n                      {note.title}\n                    </Accordion.Toggle>\n                  </span>\n\n                  <div>\n                    <Button href={`/note/${note._id}`}>Edit</Button>\n                    <Button\n                      variant=\"danger\"\n                      className=\"mx-2\"\n                      onClick={() => deleteHandler(note._id)}\n                    >\n                      Delete\n                    </Button>\n                  </div>\n                </Card.Header>\n                <Accordion.Collapse eventKey=\"0\">\n                  <Card.Body>\n                    <h4>\n                      <Badge variant=\"success\">\n                        Category - {note.category}\n                      </Badge>\n                    </h4>\n                    <blockquote className=\"blockquote mb-0\">\n                      <ReactMarkdown>{note.content}</ReactMarkdown>\n                      <footer className=\"blockquote-footer\">\n                        Created on{\" \"}\n                        <cite title=\"Source Title\">\n                          {note.createdAt.substring(0, 10)}\n                        </cite>\n                      </footer>\n                    </blockquote>\n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n            </Accordion>\n          ))}\n    </Layout>\n  );\n}\n\nexport default MyNotes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}